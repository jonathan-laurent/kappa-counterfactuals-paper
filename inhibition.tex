% -*- TeX-master: "ijcai18.tex" -*-

\section{Counterfactuals and inhibition}\label{sec:inhibition}

\paragraph{Remark on notation} Whereas we used the letter $e$ to denote
potential events in the previous sections. it is used to denote events from
now on.

\subsection{Counterfactual experiments}

A \textit{counterfactual experiment} is any triple
$(\tau, \iota, \tau')$ for which there exists a schedule $\sigma$ such
that $\tau = T(\sigma)$ and $\tau' = \ATRAJ{}(\sigma)$. Such triples
are produced by counterfactual resimulation.

\begin{proposition}%[Characterization of counterfactual experiments]
  \label{prop:valid-cex}
  A triple $(\tau, \iota, \tau')$ is a valid counterfactual experiment if
  and only if all of the following hold:
  \begin{inparaenum}[(1)]
  \item \label{valid-cex:valid-traces} both $\tau$ and $\tau'$ are
    valid traces ;
  \item \label{valid-cex:no-blocking} no event of $\tau'$ is blocked
    by $\iota$ ;
  \item \label{valid-cex:co-occur} for every event $e \in \tau$
    such that $e \notin \tau'$, then either $e$ is not
    executable in $\TSTATE{t}{\tau'}$ or $e$ is blocked by
    $\iota$ ;
  \item \label{valid-cex:co-occur2} for every event $e' \in \tau'$
    such that $e' \notin \tau$, then $e'$ is not triggerable in
    $\TSTATE{t}{\tau}$.
  \end{inparaenum}
\end{proposition}

\subsection{Activation and inhibition}


Before we start formalizing activation and inhibition, it is useful to
define some vocabulary about what it means for an event to \emph{test}
or \emph{modify} a site. Without loss of generality, we shall assume
that sites on an agent can either be binding sites or tagged sites
(sites carrying an internal state) but cannot have both functions. The
\textit{value} of a tagged site in a mixture is defined as its current
tag and the value of a binding site is either $\textsc{free}$ or
$\textsc{bound-to}(s)$, where $s$ identifies another site in the
mixture.  An event is said to \emph{modify} a site if it changes its
value when executed. It is said to \emph{test} a site $s$ to value $v$
if the left-hand side of the associated rule requires $s$ to have
value $v$ for it to be executable. For example, event $p$ in
trace~(\ref{example-trace}) tests three sites and modifies one.

\input{figures/cex}